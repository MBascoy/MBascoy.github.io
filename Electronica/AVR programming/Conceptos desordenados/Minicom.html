 
 
<html>
    <head>
		<meta charset="utf-8"/>
		<title>AVR programming: Minicom</title>
		<link rel="icon" type="image/x-icon" href="/favicon.ico">
        <link rel="stylesheet" href="../../../style.css">
    </head>

    <body>
    
    <h1 class="t1">Minicom</h1>
	<div class="breadcrumb">
		<a href="../../../index.html">Mbascoy.dev</a> / 
		<a href="../index.html">AVR programming</a> / 
		Minicom
	</div>
    
    <div class="t2">Contenido</div>
        <div class="cont">
            <p>Explicación de como usar <b>minicom</b>, un programa para realizar comunicaciónes a traves de la linea serie:</p>
            
        </div>

    <div class="t2">Descripción</div>
        <div class="cont">
            <p>Para usar minicom de la manera mas simple podemos hacerlo con el comando:</p>
            <code>minicom -D /dev/ttyUSB0 -b 9600</code>

            <p>Si queremos podemos incluir la opción <b>-w</b> para que haga saltos de linea y la opción <b>-H</b> que es para que muestre la información recibida en hexadecimal (muy util para depurar):</p>
            <code>minicom -D /dev/ttyUSB0 -b 9600 -w -H</code>
        </div>
        
        <div class="t2">Permiso denegado al abrir el dispositivo</div>
            <div class="cont">
            
            <h2>Solución temporal</h2>
            <p>Si no tenemos permisos para acceder al dispositivo podemos darle permisos:</p>
            <code>sudo chmod 666 /dev/ttyUSB0</code>

            <p>(los permisos se perderan al reiniciar el sistema)</p>

            <h2>Solución permanente</h2>
            <p>Para aplicar una solución permanente podemos crear una regla de <b>udev</b> para que cada vez que se conecte el dispositivo se apliquen los permisos que le indiquemos.</p>

            <p>Primero necesitamos saber el <b>idVendor</b> y el <b>idProduct</b> del dispositivo, conectamos el cable FTDI y ejecutamos <b>dmesg</b>, deberíamos de ver los datos del dispositivo en la salida:</p>

            <img src="Minicom/1.png">

            <p>Despues creamos el siguiente archivo <b>/etc/udev/rules.d/99-ftdi.rules</b></p>
            <code>sudo vim /etc/udev/rules.d/99-ftdi.rules</code>

            <p>Y añadimos la siguiente linea en el archivo (cambiando el idVendor e idProduct)</p>
            <code>SUBSYSTEM=="tty", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6001", MODE="0666"</code>

            <p>Ahora recargamos las reglas con los siguientes 2 comandos:</p>
            <code>sudo udevadm control --reload-rules</code>
            <code>sudo udevadm trigger</code>

            <h3>Alternativa añadir usuario a dialout</h3>
            <p>Otra opción, normalmente mas segura que dar permisos 666, es la de añadir nuestro usuario al grupo <b>dialout</b>, lo hacemos con el siguiente comando:</p>
            <code>sudo usermod -aG dialout nuestro_usuario</code>
        </div>

    <div class="t2">Tags</div>
        <div class="cont">
        <p>AVR | minicom</p>
        </div>
    
    </body>
</html>



<html>
    <head>
        <link rel="stylesheet" href="../../../style.css">
    </head>

    <body>

    <h1 class="t1">Ejecutar tests con seed</h1>

    <div class="t2">Descripcion</div>
        <div class="cont">
            <p>Ejecutar los tests con Jasmine usando una <b>seed</b> nos permite que los tests se ejecuten en un orden concreto, lo que nos permite replicar escenarios en los que un test falla al ejecutarse en un orden concreto.</p>
        </div>

    <div class="t2">Metodo</div>
        <div class="cont">
            <p>Cuando ejecutamos los tests de manera normal siempre se genera una <b>seed</b> de manera aleatoria, la seed podemos verla aqui:</p>
            <img src="Ejecutar tests con seed/1.png"/>

            <p><b>NOTA:</b>Si hacemos click encima del numero los tests se volveran a lanzar con la misma seed</p>

            <p>Si queremos volver a ejecutar los tests con una seed concreta lo hacemos poniendo lo siguiente en la barra de direcciones:</p>
            <code>/debug.html?seed=1234</code>

            <p>De esta manera se ejecutaran los tests con la seed "1234", haciendo que todo se ejecute en el orden de esa seed</p>
            <img src="Ejecutar tests con seed/1.png"/>

        </div>

    <div class="t2">Obtener seed en consola</div>
        <div class="cont">
            <p>Si queremos obtener la seed en la salida de la consola (en vez de la interfaz del navegador) tendremos que instalar un paquete a mayores, ya que por defecto no se proporciona esta informaci칩n.</p>

            <p>El paquete que tenemos que instalar es el siguiente:</p>
            <a href="https://www.npmjs.com/package/karma-jasmine-order-reporter">Paquete karma-jasmine-order-reporter</a>

            <code>npm install karma-jasmine-order-reporter --save-dev</code>

            <p>Una vez tenemos instalado el paquete en nuestro proyecto tenemos que configurar nuestro archivo <b>karma.conf.js</b></p>
            <code>require('karma-jasmine-order-reporter')</code>

            <img src="Ejecutar tests con seed/3.png"/>

            <p>A la hora de ejecutar los tests tenemos que indicar el nuevo reporter de la siguiente manera:</p>
            <code>ng test --browsers ChromeHeadless --code-coverage --reporters="jasmine-order"</code>
            <p>La opci칩n <b>--reporters="jasmine-order"</b> es la importante</p>

            <p>Al ejecutar los test se mostrar치 con que <b>seed</b> se est치n ejecutando de esta manera:</p>

            <img src="Ejecutar tests con seed/4.png"/>


        </div> 

    <div class="t2">Tags</div>
        <div class="cont">
        <p>Test | Seed | Jasmine </p>
        </div>

    </body>
</html>

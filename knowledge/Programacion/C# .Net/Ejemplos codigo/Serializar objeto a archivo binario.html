

<html>
    <head>
		<title>C# .Net: Serializar objeto a archivo binario.html</title>
        <link rel="stylesheet" href="../../../style.css">
    </head>

    <body>

    <h1 class="t1">Serializar objeto a archivo binario</h1>

    <div class="t2">Progrma principal</div>
        <div class="cont">
          <p><a href="https://github.com/MBascoy/CSharp-Examples/tree/main/BinarySerializationExample">Ejemplo C칩digo</a> </p>

          <p>Usamos el <b>BinaryFormatter</b> para realizar la serializaci칩n de la clase Persona a un archivo binario.</p>
          <pre><code id="htmlViewer" style="color:rgb(209, 217, 225); font-weight:400;background-color:rgb(71, 73, 73);background:rgb(71, 73, 73);display:block;padding: .5em;"><span style="color:rgb(204, 153, 204); font-weight:400;">using</span> SerializationExample;

<span style="color:rgb(204, 153, 204); font-weight:400;">using</span> System.Runtime.Serialization;
<span style="color:rgb(204, 153, 204); font-weight:400;">using</span> System.Runtime.Serialization.Formatters.Binary;
<span style="color:rgb(204, 153, 204); font-weight:400;">namespace</span> <span style="color:rgb(181, 189, 104); font-weight:400;">DemoApplication</span>
{
    <span style="color:rgb(204, 153, 204); font-weight:400;">class</span> <span style="color:rgb(181, 189, 104); font-weight:400;">AppSerializacion</span>
    {
        <span style="color:rgb(209, 217, 225); font-weight:400;"><span style="color:rgb(204, 153, 204); font-weight:400;">static</span> <span style="color:rgb(204, 153, 204); font-weight:400;">void</span> <span style="color:rgb(181, 189, 104); font-weight:400;">Main</span>(<span style="color:rgb(209, 217, 225); font-weight:400;"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            Persona persona = <span style="color:rgb(204, 153, 204); font-weight:400;">new</span> Persona();
            persona.edad = <span style="color:rgb(249, 145, 87); font-weight:400;">24</span>;
            persona.nombre = <span style="color:rgb(138, 190, 183); font-weight:400;">&quot;Richard&quot;</span>;

            IFormatter formatter = <span style="color:rgb(204, 153, 204); font-weight:400;">new</span> BinaryFormatter();
            Stream stream = <span style="color:rgb(204, 153, 204); font-weight:400;">new</span> FileStream(<span style="color:rgb(138, 190, 183); font-weight:400;">@&quot;ExampleNew.txt&quot;</span>, FileMode.Create, FileAccess.Write);

            formatter.Serialize(stream, persona);
            stream.Close();

            stream = <span style="color:rgb(204, 153, 204); font-weight:400;">new</span> FileStream(<span style="color:rgb(138, 190, 183); font-weight:400;">@&quot;ExampleNew.txt&quot;</span>, FileMode.Open, FileAccess.Read);
            Persona nuevaPersona = formatter.Deserialize(stream) <span style="color:rgb(204, 153, 204); font-weight:400;">as</span> Persona;

            Console.WriteLine(nuevaPersona.edad);
            Console.WriteLine(nuevaPersona.nombre);
        }
    }
}</code></pre>
</div>

    <div class="t2">Clase Persona</div>
        <div class="cont">
          <p>Es importante incluir el atributo <b>Serializable</b>, lo necesital el BinaryFormatter, si no lo incluimos se lanzar치 una excepci칩n.</p>
          <pre><code id="htmlViewer" style="color:rgb(209, 217, 225); font-weight:400;background-color:rgb(71, 73, 73);background:rgb(71, 73, 73);display:block;padding: .5em;"><span style="color:rgb(204, 153, 204); font-weight:400;">namespace</span> <span style="color:rgb(181, 189, 104); font-weight:400;">SerializationExample</span>
{
    [<span style="color:rgb(249, 145, 87); font-weight:400;">Serializable</span>]
    <span style="color:rgb(204, 153, 204); font-weight:400;">internal</span> <span style="color:rgb(204, 153, 204); font-weight:400;">class</span> <span style="color:rgb(181, 189, 104); font-weight:400;">Persona</span>
    {
        <span style="color:rgb(204, 153, 204); font-weight:400;">public</span> String nombre;
        <span style="color:rgb(204, 153, 204); font-weight:400;">public</span> <span style="color:rgb(181, 189, 104); font-weight:400;">int</span> edad;
    }
}</code></pre>
        </div>

    <div class="t2">Tags</div>
        <div class="cont">
        <p>C# | Serializacion</p>
        </div>

    </body>
</html>
